<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Prashanth Kumar Kadasi - Data Analyst & AI Developer Portfolio">
    <title>{% block title %}Prashanth Kumar Kadasi | Portfolio{% endblock %}</title>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%23667eea' rx='20' width='100' height='100'/><text x='50' y='65' font-family='Arial' font-size='45' font-weight='bold' fill='white' text-anchor='middle'>PK</text></svg>">

    <!-- Bootstrap CSS (Dark Theme) -->
    <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.2/dist/darkly/bootstrap.min.css" rel="stylesheet">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="{{ url_for('static', filename='css/custom.css') }}" rel="stylesheet">
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">Prashanth Kadasi</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == '/' %}active{% endif %}" href="/">About Me</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == '/skills' %}active{% endif %}"
                            href="/skills">Skills</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == '/projects' %}active{% endif %}"
                            href="/projects">Projects</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == '/resume' %}active{% endif %}"
                            href="/resume">Resume</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == '/blog' %}active{% endif %}" href="/blog">Blog</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == '/plotter' %}active{% endif %}" href="/plotter">CSV
                            Plotter</a>
                    </li>
                    <li class="nav-item ms-2">
                        <button class="btn btn-outline-light btn-sm theme-toggle" id="themeToggle" title="Toggle theme">
                            <i class="fas fa-moon" id="themeIcon"></i>
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container-fluid py-4">
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="text-center py-4" style="border-top: 1px solid var(--border-glass); margin-top: 2rem;">
        <p style="color: var(--text-secondary); margin: 0;">
            © 2024 Prashanth Kumar Kadasi • Built with Flask & ❤️
        </p>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Theme Toggle Script -->
    <script>
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        const html = document.documentElement;

        // Check for saved theme preference
        const savedTheme = localStorage.getItem('theme') || 'dark';
        html.setAttribute('data-theme', savedTheme);
        updateIcon(savedTheme);

        themeToggle.addEventListener('click', () => {
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateIcon(newTheme);
        });

        function updateIcon(theme) {
            themeIcon.className = theme === 'dark' ? 'fas fa-moon' : 'fas fa-sun';
        }
    </script>

    <!-- Vercel Analytics -->
    <script defer src="/_vercel/insights/script.js"></script>
</body>

</html>